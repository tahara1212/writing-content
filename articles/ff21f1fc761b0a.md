---
title: "デザイン知識ゼロでLottieアニメーションを実装する"
emoji: "😸"
type: "tech"
topics: ["Lottie", "javascript"]
published: true
---
## Lottieとは？

Lottie は、Airbnb が開発した JSON ベースのアニメーションファイル形式です。
マルチプラットフォームに対応しており、iOS、Android、Web、React Native で利用できます。
GIF や MP4 などの他の形式と比べ格段に軽量で、ベクターベースなので拡大縮小も可能です。
他にもスクロール、クリック、ホバーなどに反応するインタラクティブなアニメーションを作成できます。
https://airbnb.design/introducing-lottie/

## Lottieを表示する

今回はデザイナー視点ではなく、エンジニア視点で Lottie アニメーションを見ていきます。
アニメーションの作成はいくらか手間がかかりますが、Lottie は以下のようなスクリプトで簡単にアニメーションを表示する事が出来ます。

```HTML
<div class="lottie"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.11.0/lottie.min.js"></script>
<script>
  lottie.loadAnimation({
    container: document.querySelector('.lottie'), 
    renderer: 'svg', 
    loop: true, 
    autoplay: true, 
    name: 'lottie-name',
    path: 'https://assets6.lottiefiles.com/packages/lf20_gfgnjnyb.json' 
  });
</script>
```

アニメーションを表示する実装に関しては、ライブラリを読み込み、いくつかのパラメータを指定するだけで完了します。
以下のような固有のパラメータをオブジェクトとして受け取ります。

- **container**
アニメーションを描画するDOM要素を設定します。
- **renderer**
svg / canvas / html の中からレンダラーを設定します。
- **loop**
繰り返し再生を行うか真偽値で設定します。
- **autoplay**
アニメーションを自動再生するか真偽値で設定します。
- **name**
参照の為のアニメーション名を設定します。
- **path**
アニメーションオブジェクトへの相対パスを設定します。
- **animeData**
エクスポートされたアニメーション データを含むオブジェクトを設定します。

アニメーションファイルさえ用意されていれば、描画は容易です。CSS や javascript を駆使してアニメーションに関する処理を詳細に記述する必要はありません。

## アニメーションファイルを作成する

アニメーションファイルの作成はデザイン知識が必要になるので、フロントエンドエンジニアとしてのスコープの範囲内では対応が難しいことが多いです。
作成にはいくつかのアプローチがありますが、Adobe Illustrator でデザインを設計して、Adobe After Effects でアニメーションを作成し、AE 拡張機能の Bodymovin で JSON としてエクスポートする、というのが基本的な流れになるでしょう。

今回はデザイン知識が無い事を前提とするので、上記の手順ではなく、SVG 画像を
